<!DOCTYPE html>
<html>

  <head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-125247478-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-125247478-1');
</script>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Lynn Le | My experience with Ubuntu for cuda and cupy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Lynn Le Academic Profile and Blog">
  <meta charset='utf-8'>
  <link rel="shortcut icon" type="image/png" href="/favicon.png">
  <!-- <link rel="shortcut icon" href="http://localhost:4000/assets/img/favicon.ico"> -->

  <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">
  <link rel="canonical" href="http://localhost:4000/blog/2019/my-experience-with-installing-ubuntu/">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
<!-- 
    
    <span class="site-title">
        
        <a href="/"><strong>Lynn</strong> Le </a>
    </span>
     -->

    <nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

      <div class="trigger">
        <!-- About -->
        <a class="page-link" href="http://localhost:4000/">about</a>

        <!-- Blog -->
        <a class="page-link" href="http://localhost:4000/blog/">blog</a>

        <!-- Pages -->
        
          
        
          
        
          
        
          
            <a class="page-link" href="http://localhost:4000/projects/">projects</a>
          
        
          
            <a class="page-link" href="http://localhost:4000/teaching/">teaching</a>
          
        
          
        

        <!-- CV link -->
        <!-- <a class="page-link" href="http://localhost:4000/assets/pdf/CV.pdf">vitae</a> -->

      </div>
    </nav>

  </div>

</header>



    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">My experience with Ubuntu for cuda and cupy</h1>
    <p class="post-meta">March 7, 2019</p>
  </header>

  <article class="post-content">
    <h1 id="installing-ubuntu">Installing Ubuntu</h1>

<p>Since I have an nvidia GPU on my macbook pro, I have decided that I wanted to install Ubuntu. This would allow me to run Cupy and use the GPU for neural networks while using the Chainer framework.</p>

<h3 id="first-time-installing">First time installing</h3>

<p>After following a tutorial online on how to partition my harddrive and install ubuntu on my macbook properly, I was super happy to see this when booting up:</p>

<p><img src="/assets/img/blog_img/ubuntu_loader.png" alt="ubuntu image" title="Ubuntu loader" /></p>

<p>So my ultimate goal was to use cupy, which is supported by cuda 10.0 (or older), and cuda 10.0 or older is supported by Ubunutu 18.04.1 (or older). I didn’t know this so I first installed the newest Ubuntu 18.04.2 and then after a while found out I couldn’t install cuda 10.0 properly. This is because on the <a href="https://docs.nvidia.com/cuda/archive/10.0/" target="\_blank">cuda 10.0 installation guide</a>, it says I needed the kernel version 14.15.0 (and I had 124.18.0). I tried different things to fix this problem (such as changing the kernel version to an older version) before I finally resolved to reinstalling an older Ubuntu.</p>

<blockquote>
  <p>Pretty much, I installed the wrong version of Ubuntu!</p>
</blockquote>

<p>When I installed <a href="https://www.ubuntu.com/#download" target="\_blank">Ubuntu</a> from it’s home page it was 18.04. Little did I know that I needed 18.04.1 instead of 18.04.2! So yes, I decided to reinstall.</p>

<h3 id="second-time-installing">Second time installing</h3>

<p>The second time I installed Ubuntu, I specifically chose the 18.04.2 version and finally was able to install cuda 10.0. However, I thought to myself, I wonder how it would look like if I changed my screen resolution… Since I had an extra screen connected, I decided to play around with the different resolution possibilities.</p>

<blockquote>
  <p>Turns out changing the screen resolution made my whole screen black… and then green!</p>
</blockquote>

<p><img src="/assets/img/blog_img/green_screen.jpg" alt="alt text" title="Green screen" /></p>

<p>Everytime I rebooted it turned completely black and green on both screens :’( I googled everywhere and tried all possible solutions that were offered on Stackoverflow. I was able to access the root terminal but still, but still nothing worked. I decided to install Ubuntu once again.</p>

<h3 id="third-time-is-the-charm">Third time is the charm</h3>

<p>I WAS SO ANNOYED AT THIS POINT. I started questioning whether I even still wanted to use Chainer anymore, perhaps it is easier to rewrite all my codes to PyTorch.. (probably it was and still is a good idea). But I thought, this is a good way to learn things. Besides, I already have put some time in this, might as well finish the job… So finally.. the third time installing Ubuntu, everything works. I was able to install cuda properly, and then cupy and then everything else. It was a relieving moment, to see I was able to import cupy into python.</p>

<h3 id="until">UNTIL…</h3>

<blockquote>
  <p>OUT OF MEMORRY!</p>
</blockquote>

<p><img src="/assets/img/blog_img/out_of_memory.png" alt="alt text" title="Out of memory" /></p>

<p>Until I realized my model architecture is way too heavy for my tiny GPU… OUT OF MEMORY!!</p>

<p><img src="/assets/img/blog_img/cryface.jpg" alt="alt text" title="sadface" /></p>

<p>Well…. I guess I cannot do much about this. It is nice to know how to use my GPU I guess.. And perhaps one day I should buy an external GPU.. but they’re not cheap.</p>

<h3 id="lessons-learned">Lessons learned</h3>

<ul>
  <li>Think twice or three times before installing the latest version of everything.</li>
  <li>Dont just change your screen resolution on ubuntu.</li>
  <li>Everything you do you can learn from.</li>
</ul>

<p>Now that I have let out my frustrations on this blog, I would like to thank whomever is reading this for listening (probably nobody). This was very therapeutical to write.</p>

  </article>

  

</div>

      </div>
    </div>

    <footer>

  <div class="wrapper">
    &copy; Copyright 2019 Lynn Le.
    
    
  </div>

</footer>


    <!-- Load jQuery -->
<script src="//code.jquery.com/jquery-.min.js"></script>

<!-- Load Common JS -->
<script src="http://localhost:4000/assets/js/common.js"></script>


<!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX//katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX//katex.min.js"></script>
<script src="http://localhost:4000/assets/js/katex.js"></script>




<!-- Include custom icon fonts -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/fontawesome-all.min.css">
<link rel="stylesheet" href="http://localhost:4000/assets/css/academicons.min.css">

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-XXXXXXXXX', 'auto');
ga('send', 'pageview');
</script>


  </body>

</html>
